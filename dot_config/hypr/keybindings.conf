# █▄▀ █▀▀ █▄█ █▄▄ █ █▄░█ █▀▄ █ █▄░█ █▀▀ █▀
# █░█ ██▄ ░█░ █▄█ █ █░▀█ █▄▀ █ █░▀█ █▄█ ▄█

# See https://wiki.hyprland.org/Configuring/Keywords/
#  &  https://wiki.hyprland.org/Configuring/Binds/

$kittypanelConf = /home/joona/.config/kitty/panel.d/bg_padded.conf

# Main modifier
$mainMod = Super # super / meta / windows key

# Assign apps
$term = kitty
$editor = vscodium
$file = nautilus
$browser = firefox
$ddc_script = $HOME/scripts/ddc_ctl.sh


# Window/Session actions
# bind = $mainMod+Shift, P,Color Picker , exec, hyprpicker -a # Pick color (Hex) >> clipboard#
bind = Alt, F4, exec, $scrPath/dontkillsteam.sh # close focused window
bind = $mainMod, Delete, exit, # kill hyprland session
bind = $mainMod, Q, killactive,
bind = $mainMod, G, togglegroup, # toggle the window between focus and group
bind = Alt, Return, fullscreen, # toggle the window between focus and fullscreen
bind = $mainMod, Pause, exec, swaylock # launch lock screen
bind = $mainMod+Shift, F, exec, $scrPath/windowpin.sh # toggle pin on focused window
bind = $mainMod, Backspace, exec, $scrPath/logoutlaunch.sh # launch logout menu
bind = Ctrl+Alt, W, exec, killall waybar || (env reload_flag=1 $scrPath/wbarconfgen.sh) # toggle waybar and reload config
#bind = Ctrl+Alt, W, exec, killall waybar || waybar # toggle waybar without reloading, this is faster

# Application shortcuts
bind = Ctrl+Shift, Escape, exec, $scrPath/sysmonlaunch.sh # launch system monitor (htop/btop or fallback to top)

# Rofi menus
bind = $mainMod, E, exec, pkill -x rofi || $HOME/.config/rofi/launchers/launcher.sh
bind = Alt, Tab, exec, pkill -x rofi ||  $HOME/.config/rofi/window/window.sh
bind = $mainMod, Tab, exec, pkill -x rofi ||  $HOME/.config/rofi/window/window.sh


# bind = $mainMod, Tab, exec, pkill -x rofi ||rofi -config $HOME/.config/rofi/steam/gamelauncher_2.rasi -show run # launch window switcher
bind = $mainMod, n, exec, $HOME/python/scripts/notes_browser.py


# Audio control
bindl  = , XF86AudioMute, exec, $scrPath/volumecontrol.sh -o m # toggle audio mute
bindl  = , XF86AudioMicMute, exec, $scrPath/volumecontrol.sh -i m # toggle microphone mute
bindel = , XF86AudioLowerVolume, exec, $scrPath/volumecontrol.sh -o d # decrease volume
bindel = , XF86AudioRaiseVolume, exec, $scrPath/volumecontrol.sh -o i # increase volume

bindel = $mainMod+Ctrl, equal , exec, $scrPath/volumecontrol.sh -o i # increase volume
bindel = $mainMod+Ctrl, minus, exec, $scrPath/volumecontrol.sh -o d # deccrease volume_

# Media control
bindl  = , XF86AudioPlay, exec, playerctl play-pause # toggle between media play and pause
bindl  = , XF86AudioPause, exec, playerctl play-pause # toggle between media play and pause
bindl  = , XF86AudioNext, exec, playerctl next # media next
bindl  = , XF86AudioPrev, exec, playerctl previous # media previous

# Brightness control
bindel = $mainMod,XF86AudioRaiseVolume, exec, $scrPath/brightnesscontrol.sh i # increase brightness
bindel = $mainMod, XF86AudioLowerVolume, exec, $scrPath/brightnesscontrol.sh d # decrease brightness

# Move between grouped windows
bind = $mainMod CTRL , H, changegroupactive, b
bind = $mainMod CTRL , L, changegroupactive, f

# Custom scripts
bind = $mainMod+Alt, G, exec, $scrPath/gamemode.sh # disable hypr effects for gamemode
bind = CTRL+Alt, Right, exec, $scrPath/swwwallpaper.sh -n # next wallpaper
bind = CTRL+Alt, Left, exec, $scrPath/swwwallpaper.sh -p # previous wallpaper
bind = $mainMod+Alt, Up, exec, $scrPath/wbarconfgen.sh n # next waybar mode
bind = $mainMod+Alt, Down, exec, $scrPath/wbarconfgen.sh p # previous waybar mode
# bind = $mainMod+Shift, R, exec, pkill -x rofi || $scrPath/wallbashtoggle.sh -m # launch wallbash mode select menu
bind = $mainMod+Shift, T, exec, pkill -x rofi || $scrPath/themeselect.sh # launch theme select menu
bind = $mainMod+Shift, A, exec, pkill -x rofi || $scrPath/rofiselect.sh # launch select menu
bind = $mainMod+Shift, X, exec, pkill -x rofi || $scrPath/themestyle.sh # launch theme style select menu
bind = $mainMod+Shift, W, exec, pkill -x rofi || $scrPath/swwwallselect.sh # launch wallpaper select menu
bind = $mainMod, V, exec, pkill -x rofi || $scrPath/cliphist.sh c # launch clipboard
bind = $mainMod+Shift, V, exec, pkill -x rofi || $scrPath/cliphist.sh # launch clipboard Manager
bind = $mainMod, K, exec, $scrPath/keyboardswitch.sh # switch keyboard layout
bind = $mainMod, slash, exec, pkill -x rofi || $scrPath/keybinds_hint.sh c # launch keybinds hint



# # Switch workspaces to a relative workspaces
# bind = $mainMod+Ctrl, Right, workspace, r+1
# bind = $mainMod+Ctrl, Left, workspace, r-1

# Move to the first empty workspace
bind = $mainMod+Ctrl, Down, workspace, empty

# ------- Apps/scripts -------
# Hypershot
bind = CTRL, PRINT, exec, grimblast --notify copy active  | wl-paste  | feh -
bind = $mainMod, PRINT, exec, HYPRSHOT_DIR=$HOME/Pictures/Screenshots hyprshot -m output -- feh
bind = , PRINT, exec, grimblast edit area
# Color picker
bind = $mainMod, C, exec, hyprpicker --autocopy
bind = , PAUSE, exec, sh -c 'PYTHONPATH=/home/joona/.venv/lib/python3.12/site-packages:$PYTHONPATH /home/joona/.venv/bin/python3 /home/joona/python/scripts/ocr.py'
bind = $mainMod, D, exec, $file
# OpenRGB
bind = $mainMod+SHIFT, KP_End, exec, openrgb -p off
bind = $mainMod+SHIFT, KP_Down, exec, openrgb -p LATEST

# Firefox
bind = $mainMod, f, exec, firefox
bind = CTRL+SHIFT, code:61, exec, firefox --url=http://10.0.0.50:3000

# Rofi/wofi
bind = $mainMod, R, exec, kitty
bind = $mainMod, Return, exec, .local/bin/anyrun
# bind = $mainMod, E, exec, wofi --show drun
# bind = $mainMod, RETURN, exec, pkill -x rofi ||  rofi -config $HOME/.config/rofi/styles/style_11.rasi -show window
# Anyrun (krunner alternative)s
#
bind = Alt, F9, exec, firefox
bind = $mainMod, T, exec, yazi


# ====== Window Management ======
bind = $mainMod, Q, killactive,
bind = $mainMod SHIFT, E, exit,
bind = $mainMod+SHIFT, SPACE, togglefloating,
bind = $mainMod, P, pseudo, # dwindle
bind = $mainMod, Space, togglesplit, dwindle
bind = $mainMod, PAGE_UP, fullscreen


# ------- Move Focus -------
bind = $mainMod+SHIFT, J, movefocus, l
bind = $mainMod+SHIFT, L, movefocus, r
bind = $mainMod+SHIFT, I, movefocus, u
bind = $mainMod+SHIFT, K, movefocus, d

bind = $mainMod+SHIFT, Left, movefocus, l
bind = $mainMod+SHIFT, Right, movefocus, r
bind = $mainMod+SHIFT, Up, movefocus, u
bind = $mainMod+SHIFT, Down, movefocus, d
# bind = Alt, Tab, movefocus,f

# ------- Move Window -------
bind = $mainMod, J, movewindow, l
bind = $mainMod, L, movewindow, r
bind = $mainMod, I, movewindow, u
bind = $mainMod, K, movewindow, d

bind = $mainMod, Left, movewindow, l
bind = $mainMod, Right, movewindow, r
bind = $mainMod, Up, movewindow, u
bind = $mainMod, Down, movewindow, d

$moveactivewindow=grep -q "true" <<< $(hyprctl activewindow -j | jq -r .floating) && hyprctl dispatch moveactive
binded = $mainMod, Left,Move activewindow to the right,exec, $moveactivewindow -30 0 || hyprctl dispatch movewindow l
binded = $mainMod SHIFT $CONTROL, right,Move activewindow to the right,exec, $moveactivewindow 30 0 || hyprctl dispatch movewindow r
binded = $mainMod SHIFT $CONTROL, up,Move activewindow to the right,exec, $moveactivewindow  0 -30 || hyprctl dispatch movewindow u
binded = $mainMod SHIFT $CONTROL, down,Move activewindow to the right,exec, $moveactivewindow 0 30 || hyprctl dispatch movewindow d

# ------- Resize Window -------
bind = $mainMod ALT, J, resizeactive, -30 0
bind = $mainMod ALT, L, resizeactive, 30 0
bind = $mainMod ALT, I, resizeactive, 0 -30
bind = $mainMod ALT, K, resizeactive, 0 30

binde = $mainMod+ALT, Right, resizeactive, 30 0
binde = $mainMod+ALT, Left, resizeactive, -30 0
binde = $mainMod+ALT, Up, resizeactive, 0 -30
binde = $mainMod+ALT, Down, resizeactive, 0 30

# -------  Switch Workspaces -------
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

# ------- MoveWindow to Workspace -------
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod SHIFT, 0, movetoworkspace, 10

# ------- Scroll Through with Mouse -------
bind = $mainMod, mouse_down, workspace, e+1
bind = $mainMod, mouse_up, workspace, e-1

# ------- Resize Windows with Mouse -------
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow


# ------ GAMING ------
bind = WIN, F1, exec, ~/.config/hypr/gamemode.sh

# bind = , grave, exec, kitten quick-access-terminal


# ------- DDC CTRL -------
bind = $mainMod+ALT, 21, exec, $ddc_script i
bind = $mainMod+ALT, 20, exec, $ddc_script d

bind = $mainMod, KP_Multiply, exec, kitten panel --config=$kittypanelConf --edge=background /home/joona/scripts/graphing/gpu_power.sh



